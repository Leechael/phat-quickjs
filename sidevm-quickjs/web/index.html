<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Play with QuickJS</title>
</head>

<body>
    <div class="result" id="result">
        <textarea id="input-code" style="width: 500px; height: 200px;">
        async function main() {
            const url = "https://httpbin.org/get";
            console.log("Getting: ", url);
            const response = await fetch(url);
            console.log("Response: ", response.status);
            const body = await response.text();
            Sidevm.inspect("Body: ", body);
            return body;
        }
        main()
            .then(result => scriptOutput = result)
            .catch(err => scriptOutput = err)
            .finally(() => Sidevm.exit());
        </textarea>
        <br>
        <button id="btn-run" disabled="true">Run</button>
        <p>Output: <span id="output"></span></p>
    </div>
</body>

</html>
<script type="module" src="main.js"></script>